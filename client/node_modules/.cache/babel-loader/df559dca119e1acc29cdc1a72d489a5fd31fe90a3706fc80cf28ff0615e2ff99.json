{"ast":null,"code":"var _jsxFileName = \"/Users/mauriciolopez/Cargapp/client/src/Rentabilidad.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport dayjs from \"dayjs\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ESCENARIOS = [{\n  value: \"conservador\",\n  label: \"Conservador\"\n}, {\n  value: \"intermedio\",\n  label: \"Intermedio\"\n}, {\n  value: \"optimista\",\n  label: \"Optimista\"\n}];\n\n// Parámetros por escenario\nconst ESCENARIO_PARAMS = {\n  conservador: {\n    descripcion: 'Escenario conservador: baja utilización, precios bajos, costos altos.',\n    supuestos: ['Baja ocupación promedio', 'Precio de venta bajo', 'Costo energético alto', 'Menor recaudación por riesgos o mantenimiento']\n  },\n  intermedio: {\n    descripcion: 'Escenario intermedio: utilización y precios promedio, costos estándar.',\n    supuestos: ['Ocupación y precios promedio', 'Costos estándar', 'Sin eventos extraordinarios']\n  },\n  optimista: {\n    descripcion: 'Escenario optimista: alta utilización, precios altos, costos bajos.',\n    supuestos: ['Alta ocupación', 'Precio de venta alto', 'Costo energético bajo', 'Máxima recaudación esperada']\n  }\n};\nexport default function Rentabilidad() {\n  _s();\n  var _ESCENARIOS$find, _ESCENARIO_PARAMS$esc, _ESCENARIO_PARAMS$esc2;\n  console.log(\"DEBUG render Rentabilidad\");\n  const [from, setFrom] = useState(dayjs().startOf(\"month\").format(\"YYYY-MM-DD\"));\n  const [to, setTo] = useState(dayjs().endOf(\"month\").format(\"YYYY-MM-DD\"));\n  const [tarifas, setTarifas] = useState([]);\n  const [tarifaSeleccionada, setTarifaSeleccionada] = useState(\"\");\n  const [escenario, setEscenario] = useState(ESCENARIOS[0].value);\n  const [resultados, setResultados] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(\"\");\n\n  // Cargar tarifas.json al montar\n  React.useEffect(() => {\n    fetch('https://evapp-production.up.railway.app/tarifas.json').then(r => r.json()).then(data => setTarifas(data)).catch(() => setTarifas([]));\n  }, []);\n\n  // Handler principal\n  const calcularRentabilidad = async () => {\n    setLoading(true);\n    setError(\"\");\n    setResultados([]);\n    try {\n      console.log(\"DEBUG antes del fetch a /api/rentabilidad\");\n      // 1. Fetch sesiones\n      const sesionesRes = await fetch(`/api/connector-sessions?from=${from}&to=${to}`);\n      const sesiones = await sesionesRes.json();\n      console.log(\"DEBUG sesiones recibidas:\", sesiones);\n      if (!Array.isArray(sesiones) || sesiones.length === 0) {\n        setError(\"No hay sesiones en el rango seleccionado\");\n        setLoading(false);\n        return;\n      }\n      // 2. Fetch costos carga\n      const costosRes = await fetch(\"/costos_carga.json\");\n      const costosCarga = await costosRes.json();\n      console.log(\"DEBUG costos_carga:\", costosCarga);\n      // 3. Mapeo de sesiones\n      const sesionesMapeadas = sesiones.map(s => ({\n        chargerName: s.charger_name,\n        connectorId: s.connector_id,\n        connectorType: s.connector_type,\n        start: s.session_start,\n        end: s.session_end,\n        durationMinutes: s.duration_minutes,\n        empresa: s.charger_name && s.charger_name.startsWith(\"UTE\") ? \"UTE\" : s.charger_name && s.charger_name.startsWith(\"eOne\") ? \"eOne\" : \"Mobility\",\n        potencia: s.power || 60\n      }));\n      console.log(\"DEBUG sesiones mapeadas:\", sesionesMapeadas);\n      // 4. POST a rentabilidad\n      const tarifaSeleccionadaObj = tarifas.find(t => t.id === tarifaSeleccionada);\n      const body = {\n        from,\n        to,\n        escenario,\n        sesiones: sesionesMapeadas,\n        costosCarga,\n        tarifa: tarifaSeleccionadaObj // Enviar objeto completo\n      };\n      console.log(\"DEBUG body rentabilidad:\", body);\n      let rentRes, text;\n      try {\n        console.log(\"DEBUG antes del fetch a /api/rentabilidad\");\n        rentRes = await fetch('https://evapp-production.up.railway.app/api/rentabilidad', {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\"\n          },\n          body: JSON.stringify(body)\n        });\n        text = await rentRes.text();\n        console.log(\"DEBUG respuesta backend:\", text);\n      } catch (fetchErr) {\n        console.error(\"DEBUG error de red o CORS en fetch /api/rentabilidad:\", fetchErr);\n        setError(\"Error de red o CORS: \" + fetchErr.message);\n        setLoading(false);\n        return;\n      }\n      if (!rentRes.ok) {\n        console.log(\"DEBUG respuesta backend no OK:\", text);\n        throw new Error(text);\n      }\n      let data = [];\n      // Loguear status y headers de la respuesta\n      console.log(\"DEBUG rentRes.status:\", rentRes.status);\n      console.log(\"DEBUG rentRes.headers:\", rentRes.headers);\n      console.log(\"DEBUG string recibido del backend antes de parsear:\", text, \"typeof:\", typeof text);\n      if (!text) {\n        setError(\"Respuesta vacía del backend\");\n        setLoading(false);\n        return;\n      }\n      try {\n        data = JSON.parse(text);\n      } catch (parseErr) {\n        console.error(\"DEBUG error parseando JSON:\", parseErr);\n        setError(\"Respuesta del backend no es JSON válido: \" + text);\n        setLoading(false);\n        return;\n      }\n      setResultados(data);\n    } catch (err) {\n      console.error(\"DEBUG error rentabilidad:\", err);\n      setError(err.message || \"Error desconocido\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // --- Tabla de criterios técnicos por escenario ---\n  const getCriteriosTabla = escenario => {\n    // Lógica reflejando getSessionPower del backend\n    return [{\n      empresa: 'UTE',\n      potencia: 300,\n      ocupacion: '1',\n      potenciaUsada: escenario === 'conservador' ? 45 : escenario === 'intermedio' ? 60 : 60\n    }, {\n      empresa: 'UTE',\n      potencia: 300,\n      ocupacion: '2 o más',\n      potenciaUsada: escenario === 'conservador' ? 27 : escenario === 'intermedio' ? 30 : 60\n    }, {\n      empresa: 'UTE',\n      potencia: 60,\n      ocupacion: 'cualquier',\n      potenciaUsada: 60\n    }, {\n      empresa: 'Mobility',\n      potencia: 60,\n      ocupacion: 'cualquier',\n      potenciaUsada: 60\n    }, {\n      empresa: 'eOne',\n      potencia: 60,\n      ocupacion: 'cualquier',\n      potenciaUsada: 60\n    }];\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"max-w-4xl mx-auto bg-white shadow rounded p-6 mt-8\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-2xl font-bold mb-4 text-orange-700\",\n      children: \"Rentabilidad\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-wrap gap-4 mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-sm font-semibold mb-1\",\n          children: \"Desde\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"date\",\n          value: from,\n          onChange: e => setFrom(e.target.value),\n          className: \"border rounded px-2 py-1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-sm font-semibold mb-1\",\n          children: \"Hasta\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"date\",\n          value: to,\n          onChange: e => setTo(e.target.value),\n          className: \"border rounded px-2 py-1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block mb-2 font-semibold\",\n          children: \"Selecciona una tarifa:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: tarifaSeleccionada,\n          onChange: e => setTarifaSeleccionada(e.target.value),\n          className: \"border rounded px-2 py-1\",\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"-- Selecciona una tarifa --\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 13\n          }, this), tarifas.map(tarifa => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: tarifa.id,\n            children: [tarifa.nombre, \" - \", tarifa.descripcion]\n          }, tarifa.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 15\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-sm font-semibold mb-1\",\n          children: \"Escenario\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: escenario,\n          onChange: e => setEscenario(e.target.value),\n          className: \"border rounded px-2 py-1\",\n          children: ESCENARIOS.map(e => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: e.value,\n            children: e.label\n          }, e.value, false, {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 34\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-end\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"bg-orange-600 hover:bg-orange-700 text-white font-bold px-4 py-2 rounded\",\n          onClick: calcularRentabilidad,\n          disabled: loading || !from || !to || !tarifaSeleccionada,\n          children: loading ? \"Calculando...\" : \"Calcular rentabilidad\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-4 p-3 bg-orange-50 border-l-4 border-orange-400 rounded\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"font-semibold text-orange-700 mb-1\",\n        children: [\"Escenario seleccionado: \", (_ESCENARIOS$find = ESCENARIOS.find(e => e.value === escenario)) === null || _ESCENARIOS$find === void 0 ? void 0 : _ESCENARIOS$find.label]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-sm text-gray-700 mb-1\",\n        children: (_ESCENARIO_PARAMS$esc = ESCENARIO_PARAMS[escenario]) === null || _ESCENARIO_PARAMS$esc === void 0 ? void 0 : _ESCENARIO_PARAMS$esc.descripcion\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"list-disc ml-6 text-xs text-gray-600\",\n        children: (_ESCENARIO_PARAMS$esc2 = ESCENARIO_PARAMS[escenario]) === null || _ESCENARIO_PARAMS$esc2 === void 0 ? void 0 : _ESCENARIO_PARAMS$esc2.supuestos.map((s, i) => /*#__PURE__*/_jsxDEV(\"li\", {\n          children: s\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 64\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-4 p-3 bg-orange-50 border-l-4 border-orange-400 rounded\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"font-semibold text-orange-700 mb-1\",\n        children: \"Criterios t\\xE9cnicos del escenario seleccionado\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-xs text-gray-700 mb-2\",\n        children: \"La potencia usada para el c\\xE1lculo depende de la empresa, la potencia nominal del cargador y la ocupaci\\xF3n simult\\xE1nea.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"min-w-[300px] text-xs border border-orange-200 bg-white rounded\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            className: \"bg-orange-100\",\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"px-2 py-1 text-left\",\n              children: \"Empresa\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 226,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"px-2 py-1 text-left\",\n              children: \"Potencia cargador (kW)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 227,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"px-2 py-1 text-left\",\n              children: \"Ocupaci\\xF3n simult\\xE1nea\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 228,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"px-2 py-1 text-left\",\n              children: \"Potencia usada (kW)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 229,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: getCriteriosTabla(escenario).map((row, i) => /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"px-2 py-1\",\n              children: row.empresa\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 235,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"px-2 py-1\",\n              children: row.potencia\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 236,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"px-2 py-1\",\n              children: row.ocupacion\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 237,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"px-2 py-1 font-semibold text-orange-800\",\n              children: row.potenciaUsada\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 238,\n              columnNumber: 17\n            }, this)]\n          }, i, true, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 7\n    }, this), tarifaSeleccionada && tarifas.length > 0 && (() => {\n      const t = tarifas.find(t => t.id === tarifaSeleccionada);\n      if (!t) return null;\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-4 p-3 bg-orange-50 border-l-4 border-orange-400 rounded\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"font-semibold text-orange-700 mb-1\",\n          children: [\"Costos de la tarifa seleccionada: \", t.nombre]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"min-w-[200px] text-xs border border-orange-200 bg-white rounded\",\n          children: /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: Object.entries(t).filter(([k]) => k !== 'id' && k !== 'nombre' && k !== 'descripcion').map(([k, v]) => /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"px-2 py-1 font-semibold text-orange-800 text-right capitalize\",\n                children: k.replace(/_/g, ' ')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 256,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"px-2 py-1 text-gray-700\",\n                children: typeof v === 'number' ? v.toLocaleString('es-UY', {\n                  minimumFractionDigits: 2,\n                  maximumFractionDigits: 2\n                }) : String(v)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 257,\n                columnNumber: 23\n              }, this)]\n            }, k, true, {\n              fileName: _jsxFileName,\n              lineNumber: 255,\n              columnNumber: 21\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 253,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 13\n      }, this);\n    })(), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-red-600 mb-4\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 266,\n      columnNumber: 17\n    }, this), resultados && resultados.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"overflow-x-auto\",\n      children: /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"min-w-full border border-gray-300 mt-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          className: \"bg-orange-100\",\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"px-2 py-1\",\n              children: \"Cargador\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 272,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"px-2 py-1\",\n              children: \"Minutos\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 273,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"px-2 py-1\",\n              children: \"kWh\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 274,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"px-2 py-1\",\n              children: \"Recaudaci\\xF3n bruta\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 275,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"px-2 py-1\",\n              children: \"Gasto el\\xE9ctrico\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 276,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"px-2 py-1\",\n              children: \"Rentabilidad neta\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 277,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"px-2 py-1\",\n              children: \"Escenario\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 278,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 271,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 270,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: resultados.map((r, i) => /*#__PURE__*/_jsxDEV(\"tr\", {\n            className: \"border-b\",\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"px-2 py-1\",\n              children: r.chargerName || r.charger_name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 284,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"px-2 py-1\",\n              children: Math.round(r.minutos || r.durationMinutes)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 285,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"px-2 py-1\",\n              children: (r.kWh || r.energy_kwh || 0).toFixed(2)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 286,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"px-2 py-1\",\n              children: (r.recaudacion_bruta || 0).toFixed(2)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 287,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"px-2 py-1\",\n              children: (r.gasto_electrico || 0).toFixed(2)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 288,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"px-2 py-1 font-semibold text-orange-700\",\n              children: (r.recaudacion_neta || 0).toFixed(2)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 289,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"px-2 py-1 text-xs text-orange-600 bg-orange-50\",\n              children: escenario\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 290,\n              columnNumber: 19\n            }, this)]\n          }, i, true, {\n            fileName: _jsxFileName,\n            lineNumber: 283,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 169,\n    columnNumber: 5\n  }, this);\n}\n_s(Rentabilidad, \"NPe66ZEWnw9Ry0v9n4vrX3y7Iww=\");\n_c = Rentabilidad;\nvar _c;\n$RefreshReg$(_c, \"Rentabilidad\");","map":{"version":3,"names":["React","useState","dayjs","jsxDEV","_jsxDEV","ESCENARIOS","value","label","ESCENARIO_PARAMS","conservador","descripcion","supuestos","intermedio","optimista","Rentabilidad","_s","_ESCENARIOS$find","_ESCENARIO_PARAMS$esc","_ESCENARIO_PARAMS$esc2","console","log","from","setFrom","startOf","format","to","setTo","endOf","tarifas","setTarifas","tarifaSeleccionada","setTarifaSeleccionada","escenario","setEscenario","resultados","setResultados","loading","setLoading","error","setError","useEffect","fetch","then","r","json","data","catch","calcularRentabilidad","sesionesRes","sesiones","Array","isArray","length","costosRes","costosCarga","sesionesMapeadas","map","s","chargerName","charger_name","connectorId","connector_id","connectorType","connector_type","start","session_start","end","session_end","durationMinutes","duration_minutes","empresa","startsWith","potencia","power","tarifaSeleccionadaObj","find","t","id","body","tarifa","rentRes","text","method","headers","JSON","stringify","fetchErr","message","ok","Error","status","parse","parseErr","err","getCriteriosTabla","ocupacion","potenciaUsada","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","onChange","e","target","nombre","onClick","disabled","i","row","Object","entries","filter","k","v","replace","toLocaleString","minimumFractionDigits","maximumFractionDigits","String","Math","round","minutos","kWh","energy_kwh","toFixed","recaudacion_bruta","gasto_electrico","recaudacion_neta","_c","$RefreshReg$"],"sources":["/Users/mauriciolopez/Cargapp/client/src/Rentabilidad.jsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport dayjs from \"dayjs\";\n\nconst ESCENARIOS = [\n  { value: \"conservador\", label: \"Conservador\" },\n  { value: \"intermedio\", label: \"Intermedio\" },\n  { value: \"optimista\", label: \"Optimista\" },\n];\n\n// Parámetros por escenario\nconst ESCENARIO_PARAMS = {\n  conservador: {\n    descripcion: 'Escenario conservador: baja utilización, precios bajos, costos altos.',\n    supuestos: [\n      'Baja ocupación promedio',\n      'Precio de venta bajo',\n      'Costo energético alto',\n      'Menor recaudación por riesgos o mantenimiento'\n    ]\n  },\n  intermedio: {\n    descripcion: 'Escenario intermedio: utilización y precios promedio, costos estándar.',\n    supuestos: [\n      'Ocupación y precios promedio',\n      'Costos estándar',\n      'Sin eventos extraordinarios'\n    ]\n  },\n  optimista: {\n    descripcion: 'Escenario optimista: alta utilización, precios altos, costos bajos.',\n    supuestos: [\n      'Alta ocupación',\n      'Precio de venta alto',\n      'Costo energético bajo',\n      'Máxima recaudación esperada'\n    ]\n  }\n};\n\nexport default function Rentabilidad() {\n  console.log(\"DEBUG render Rentabilidad\");\n  const [from, setFrom] = useState(dayjs().startOf(\"month\").format(\"YYYY-MM-DD\"));\n  const [to, setTo] = useState(dayjs().endOf(\"month\").format(\"YYYY-MM-DD\"));\n  const [tarifas, setTarifas] = useState([]);\n  const [tarifaSeleccionada, setTarifaSeleccionada] = useState(\"\");\n  const [escenario, setEscenario] = useState(ESCENARIOS[0].value);\n  const [resultados, setResultados] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(\"\");\n\n  // Cargar tarifas.json al montar\n  React.useEffect(() => {\n    fetch('https://evapp-production.up.railway.app/tarifas.json')\n      .then(r => r.json())\n      .then(data => setTarifas(data))\n      .catch(() => setTarifas([]));\n  }, []);\n\n  // Handler principal\n  const calcularRentabilidad = async () => {\n    setLoading(true);\n    setError(\"\");\n    setResultados([]);\n    try {\n      console.log(\"DEBUG antes del fetch a /api/rentabilidad\");\n      // 1. Fetch sesiones\n      const sesionesRes = await fetch(`/api/connector-sessions?from=${from}&to=${to}`);\n      const sesiones = await sesionesRes.json();\n      console.log(\"DEBUG sesiones recibidas:\", sesiones);\n      if (!Array.isArray(sesiones) || sesiones.length === 0) {\n        setError(\"No hay sesiones en el rango seleccionado\");\n        setLoading(false);\n        return;\n      }\n      // 2. Fetch costos carga\n      const costosRes = await fetch(\"/costos_carga.json\");\n      const costosCarga = await costosRes.json();\n      console.log(\"DEBUG costos_carga:\", costosCarga);\n      // 3. Mapeo de sesiones\n      const sesionesMapeadas = sesiones.map(s => ({\n        chargerName: s.charger_name,\n        connectorId: s.connector_id,\n        connectorType: s.connector_type,\n        start: s.session_start,\n        end: s.session_end,\n        durationMinutes: s.duration_minutes,\n        empresa: s.charger_name && s.charger_name.startsWith(\"UTE\") ? \"UTE\" : (s.charger_name && s.charger_name.startsWith(\"eOne\") ? \"eOne\" : \"Mobility\"),\n        potencia: s.power || 60\n      }));\n      console.log(\"DEBUG sesiones mapeadas:\", sesionesMapeadas);\n      // 4. POST a rentabilidad\n      const tarifaSeleccionadaObj = tarifas.find(t => t.id === tarifaSeleccionada);\n      const body = {\n        from,\n        to,\n        escenario,\n        sesiones: sesionesMapeadas,\n        costosCarga,\n        tarifa: tarifaSeleccionadaObj // Enviar objeto completo\n      };\n      console.log(\"DEBUG body rentabilidad:\", body);\n      let rentRes, text;\n      try {\n        console.log(\"DEBUG antes del fetch a /api/rentabilidad\");\n        rentRes = await fetch('https://evapp-production.up.railway.app/api/rentabilidad', {\n          method: \"POST\",\n          headers: { \"Content-Type\": \"application/json\" },\n          body: JSON.stringify(body)\n        });\n        text = await rentRes.text();\n        console.log(\"DEBUG respuesta backend:\", text);\n      } catch (fetchErr) {\n        console.error(\"DEBUG error de red o CORS en fetch /api/rentabilidad:\", fetchErr);\n        setError(\"Error de red o CORS: \" + fetchErr.message);\n        setLoading(false);\n        return;\n      }\n      if (!rentRes.ok) {\n        console.log(\"DEBUG respuesta backend no OK:\", text);\n        throw new Error(text);\n      }\n      let data = [];\n      // Loguear status y headers de la respuesta\n      console.log(\"DEBUG rentRes.status:\", rentRes.status);\n      console.log(\"DEBUG rentRes.headers:\", rentRes.headers);\n      console.log(\"DEBUG string recibido del backend antes de parsear:\", text, \"typeof:\", typeof text);\n      if (!text) {\n        setError(\"Respuesta vacía del backend\");\n        setLoading(false);\n        return;\n      }\n      try {\n        data = JSON.parse(text);\n      } catch (parseErr) {\n        console.error(\"DEBUG error parseando JSON:\", parseErr);\n        setError(\"Respuesta del backend no es JSON válido: \" + text);\n        setLoading(false);\n        return;\n      }\n      setResultados(data);\n    } catch (err) {\n      console.error(\"DEBUG error rentabilidad:\", err);\n      setError(err.message || \"Error desconocido\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // --- Tabla de criterios técnicos por escenario ---\n  const getCriteriosTabla = (escenario) => {\n    // Lógica reflejando getSessionPower del backend\n    return [\n      {\n        empresa: 'UTE', potencia: 300, ocupacion: '1',\n        potenciaUsada: escenario === 'conservador' ? 45 : (escenario === 'intermedio' ? 60 : 60)\n      },\n      {\n        empresa: 'UTE', potencia: 300, ocupacion: '2 o más',\n        potenciaUsada: escenario === 'conservador' ? 27 : (escenario === 'intermedio' ? 30 : 60)\n      },\n      {\n        empresa: 'UTE', potencia: 60, ocupacion: 'cualquier', potenciaUsada: 60 },\n      { empresa: 'Mobility', potencia: 60, ocupacion: 'cualquier', potenciaUsada: 60 },\n      { empresa: 'eOne', potencia: 60, ocupacion: 'cualquier', potenciaUsada: 60 }\n    ];\n  };\n\n  return (\n    <div className=\"max-w-4xl mx-auto bg-white shadow rounded p-6 mt-8\">\n      <h2 className=\"text-2xl font-bold mb-4 text-orange-700\">Rentabilidad</h2>\n      <div className=\"flex flex-wrap gap-4 mb-4\">\n        <div>\n          <label className=\"block text-sm font-semibold mb-1\">Desde</label>\n          <input type=\"date\" value={from} onChange={e => setFrom(e.target.value)} className=\"border rounded px-2 py-1\" />\n        </div>\n        <div>\n          <label className=\"block text-sm font-semibold mb-1\">Hasta</label>\n          <input type=\"date\" value={to} onChange={e => setTo(e.target.value)} className=\"border rounded px-2 py-1\" />\n        </div>\n        <div className=\"mb-4\">\n          <label className=\"block mb-2 font-semibold\">Selecciona una tarifa:</label>\n          <select\n            value={tarifaSeleccionada}\n            onChange={e => setTarifaSeleccionada(e.target.value)}\n            className=\"border rounded px-2 py-1\"\n          >\n            <option value=\"\">-- Selecciona una tarifa --</option>\n            {tarifas.map(tarifa => (\n              <option key={tarifa.id} value={tarifa.id}>\n                {tarifa.nombre} - {tarifa.descripcion}\n              </option>\n            ))}\n          </select>\n        </div>\n        <div>\n          <label className=\"block text-sm font-semibold mb-1\">Escenario</label>\n          <select value={escenario} onChange={e => setEscenario(e.target.value)} className=\"border rounded px-2 py-1\">\n            {ESCENARIOS.map(e => <option key={e.value} value={e.value}>{e.label}</option>)}\n          </select>\n        </div>\n        <div className=\"flex items-end\">\n          <button\n            className=\"bg-orange-600 hover:bg-orange-700 text-white font-bold px-4 py-2 rounded\"\n            onClick={calcularRentabilidad}\n            disabled={loading || !from || !to || !tarifaSeleccionada}\n          >\n            {loading ? \"Calculando...\" : \"Calcular rentabilidad\"}\n          </button>\n        </div>\n      </div>\n      {/* Descripción del escenario seleccionado */}\n      <div className=\"mb-4 p-3 bg-orange-50 border-l-4 border-orange-400 rounded\">\n        <div className=\"font-semibold text-orange-700 mb-1\">Escenario seleccionado: {ESCENARIOS.find(e => e.value === escenario)?.label}</div>\n        <div className=\"text-sm text-gray-700 mb-1\">{ESCENARIO_PARAMS[escenario]?.descripcion}</div>\n        <ul className=\"list-disc ml-6 text-xs text-gray-600\">\n          {ESCENARIO_PARAMS[escenario]?.supuestos.map((s,i) => <li key={i}>{s}</li>)}\n        </ul>\n      </div>\n      {/* Tabla de criterios técnicos según escenario */}\n      <div className=\"mb-4 p-3 bg-orange-50 border-l-4 border-orange-400 rounded\">\n        <div className=\"font-semibold text-orange-700 mb-1\">Criterios técnicos del escenario seleccionado</div>\n        <div className=\"text-xs text-gray-700 mb-2\">La potencia usada para el cálculo depende de la empresa, la potencia nominal del cargador y la ocupación simultánea.</div>\n        <table className=\"min-w-[300px] text-xs border border-orange-200 bg-white rounded\">\n          <thead>\n            <tr className=\"bg-orange-100\">\n              <th className=\"px-2 py-1 text-left\">Empresa</th>\n              <th className=\"px-2 py-1 text-left\">Potencia cargador (kW)</th>\n              <th className=\"px-2 py-1 text-left\">Ocupación simultánea</th>\n              <th className=\"px-2 py-1 text-left\">Potencia usada (kW)</th>\n            </tr>\n          </thead>\n          <tbody>\n            {getCriteriosTabla(escenario).map((row, i) => (\n              <tr key={i}>\n                <td className=\"px-2 py-1\">{row.empresa}</td>\n                <td className=\"px-2 py-1\">{row.potencia}</td>\n                <td className=\"px-2 py-1\">{row.ocupacion}</td>\n                <td className=\"px-2 py-1 font-semibold text-orange-800\">{row.potenciaUsada}</td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </div>\n      {/* Tabla de costos de la tarifa seleccionada */}\n      {tarifaSeleccionada && tarifas.length > 0 && (\n        (() => {\n          const t = tarifas.find(t => t.id === tarifaSeleccionada);\n          if (!t) return null;\n          return (\n            <div className=\"mb-4 p-3 bg-orange-50 border-l-4 border-orange-400 rounded\">\n              <div className=\"font-semibold text-orange-700 mb-1\">Costos de la tarifa seleccionada: {t.nombre}</div>\n              <table className=\"min-w-[200px] text-xs border border-orange-200 bg-white rounded\">\n                <tbody>\n                  {Object.entries(t).filter(([k]) => k !== 'id' && k !== 'nombre' && k !== 'descripcion').map(([k,v]) => (\n                    <tr key={k}>\n                      <td className=\"px-2 py-1 font-semibold text-orange-800 text-right capitalize\">{k.replace(/_/g,' ')}</td>\n                      <td className=\"px-2 py-1 text-gray-700\">{typeof v === 'number' ? v.toLocaleString('es-UY', { minimumFractionDigits: 2, maximumFractionDigits: 2 }) : String(v)}</td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            </div>\n          );\n        })()\n      )}\n      {error && <div className=\"text-red-600 mb-4\">{error}</div>}\n      {resultados && resultados.length > 0 && (\n        <div className=\"overflow-x-auto\">\n          <table className=\"min-w-full border border-gray-300 mt-4\">\n            <thead className=\"bg-orange-100\">\n              <tr>\n                <th className=\"px-2 py-1\">Cargador</th>\n                <th className=\"px-2 py-1\">Minutos</th>\n                <th className=\"px-2 py-1\">kWh</th>\n                <th className=\"px-2 py-1\">Recaudación bruta</th>\n                <th className=\"px-2 py-1\">Gasto eléctrico</th>\n                <th className=\"px-2 py-1\">Rentabilidad neta</th>\n                <th className=\"px-2 py-1\">Escenario</th>\n              </tr>\n            </thead>\n            <tbody>\n              {resultados.map((r, i) => (\n                <tr key={i} className=\"border-b\">\n                  <td className=\"px-2 py-1\">{r.chargerName || r.charger_name}</td>\n                  <td className=\"px-2 py-1\">{Math.round(r.minutos || r.durationMinutes)}</td>\n                  <td className=\"px-2 py-1\">{(r.kWh || r.energy_kwh || 0).toFixed(2)}</td>\n                  <td className=\"px-2 py-1\">{(r.recaudacion_bruta || 0).toFixed(2)}</td>\n                  <td className=\"px-2 py-1\">{(r.gasto_electrico || 0).toFixed(2)}</td>\n                  <td className=\"px-2 py-1 font-semibold text-orange-700\">{(r.recaudacion_neta || 0).toFixed(2)}</td>\n                  <td className=\"px-2 py-1 text-xs text-orange-600 bg-orange-50\">{escenario}</td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}