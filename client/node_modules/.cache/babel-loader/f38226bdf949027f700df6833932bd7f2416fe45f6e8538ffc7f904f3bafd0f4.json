{"ast":null,"code":"var _jsxFileName = \"/Users/mauriciolopez/Cargapp/client/src/ChargerStatusCards.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction ChargerStatusCards({\n  chargers,\n  loading,\n  onSelectCharger,\n  selectedCharger\n}) {\n  // Contar cargadores en cada estado en tiempo real\n  const counts = {\n    Charging: 0,\n    Available: 0,\n    Unavailable: 0\n  };\n  chargers.forEach(c => {\n    (c.connectors || []).forEach(conn => {\n      if (conn.status === 'Charging') counts.Charging++;else if (conn.status === 'Available') counts.Available++;else if (conn.status === 'Unavailable') counts.Unavailable++;\n    });\n  });\n  const statusConfig = {\n    Charging: {\n      label: 'Cargando',\n      icon: /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"text-3xl\",\n        children: \"\\u26A1\\uFE0F\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 17,\n        columnNumber: 13\n      }, this),\n      color: 'bg-orange-500'\n    },\n    Available: {\n      label: 'Disponible',\n      icon: /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"text-3xl\",\n        children: \"\\u2705\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 22,\n        columnNumber: 13\n      }, this),\n      color: 'bg-green-500'\n    },\n    Unavailable: {\n      label: 'Fuera de servicio',\n      icon: /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"text-3xl\",\n        children: \"\\u26D4\\uFE0F\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 13\n      }, this),\n      color: 'bg-gray-400'\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"grid grid-cols-3 gap-4 mb-6\",\n    children: Object.entries(statusConfig).map(([status, cfg]) => /*#__PURE__*/_jsxDEV(\"button\", {\n      className: `rounded-xl shadow-lg p-6 flex flex-col items-center border-2 w-full text-left ${cfg.color} bg-opacity-10 hover:bg-opacity-20 transition-transform hover:scale-105 ${selectedCharger ? 'opacity-50' : ''}`,\n      disabled: !!selectedCharger,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-2\",\n        children: cfg.icon\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-2xl font-bold mb-1\",\n        children: loading ? /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"animate-pulse\",\n          children: \"...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 63\n        }, this) : counts[status]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-base font-semibold\",\n        children: cfg.label\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 11\n      }, this)]\n    }, status, true, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 9\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 5\n  }, this);\n}\n_c = ChargerStatusCards;\nfunction ChargerStatusCard({\n  charger\n}) {\n  _s();\n  const [stats, setStats] = useState({\n    total_sessions: 0,\n    total_minutes: 0\n  });\n  useEffect(() => {\n    if (!(charger !== null && charger !== void 0 && charger.name)) return;\n    fetch(`${process.env.REACT_APP_API_URL}/api/sessions/stats?charger_name=${encodeURIComponent(charger.name)}`).then(res => res.json()).then(data => setStats({\n      total_sessions: data.total_sessions || 0,\n      total_minutes: data.total_minutes || 0\n    })).catch(() => setStats({\n      total_sessions: 0,\n      total_minutes: 0\n    }));\n  }, [charger === null || charger === void 0 ? void 0 : charger.name]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex flex-col items-center\",\n    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"text-2xl font-bold text-orange-600\",\n      children: stats.total_minutes\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"text-gray-600\",\n      children: \"Minutos acumulados\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"text-2xl font-bold text-orange-600 mt-2\",\n      children: stats.total_sessions\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"text-gray-600\",\n      children: \"Sesiones totales\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 5\n  }, this);\n}\n\n// Elimina el renderizado de la lista larga de ChargerStatusCard en el home\n// Solo deja ChargerStatusCards (estado general en tiempo real)\n// Si necesitas mostrar los totales históricos por cargador, hazlo solo en la vista de detalle, no aquí\n_s(ChargerStatusCard, \"P+pXLlork30Nlewg2YSGXSbo++E=\");\n_c2 = ChargerStatusCard;\nexport default ChargerStatusCards;\nvar _c, _c2;\n$RefreshReg$(_c, \"ChargerStatusCards\");\n$RefreshReg$(_c2, \"ChargerStatusCard\");","map":{"version":3,"names":["React","useEffect","useState","jsxDEV","_jsxDEV","ChargerStatusCards","chargers","loading","onSelectCharger","selectedCharger","counts","Charging","Available","Unavailable","forEach","c","connectors","conn","status","statusConfig","label","icon","className","children","fileName","_jsxFileName","lineNumber","columnNumber","color","Object","entries","map","cfg","disabled","_c","ChargerStatusCard","charger","_s","stats","setStats","total_sessions","total_minutes","name","fetch","process","env","REACT_APP_API_URL","encodeURIComponent","then","res","json","data","catch","_c2","$RefreshReg$"],"sources":["/Users/mauriciolopez/Cargapp/client/src/ChargerStatusCards.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\n\nfunction ChargerStatusCards({ chargers, loading, onSelectCharger, selectedCharger }) {\n  // Contar cargadores en cada estado en tiempo real\n  const counts = { Charging: 0, Available: 0, Unavailable: 0 };\n  chargers.forEach(c => {\n    (c.connectors || []).forEach(conn => {\n      if (conn.status === 'Charging') counts.Charging++;\n      else if (conn.status === 'Available') counts.Available++;\n      else if (conn.status === 'Unavailable') counts.Unavailable++;\n    });\n  });\n\n  const statusConfig = {\n    Charging: {\n      label: 'Cargando',\n      icon: <span className=\"text-3xl\">⚡️</span>,\n      color: 'bg-orange-500',\n    },\n    Available: {\n      label: 'Disponible',\n      icon: <span className=\"text-3xl\">✅</span>,\n      color: 'bg-green-500',\n    },\n    Unavailable: {\n      label: 'Fuera de servicio',\n      icon: <span className=\"text-3xl\">⛔️</span>,\n      color: 'bg-gray-400',\n    },\n  };\n\n  return (\n    <div className=\"grid grid-cols-3 gap-4 mb-6\">\n      {Object.entries(statusConfig).map(([status, cfg]) => (\n        <button\n          key={status}\n          className={`rounded-xl shadow-lg p-6 flex flex-col items-center border-2 w-full text-left ${cfg.color} bg-opacity-10 hover:bg-opacity-20 transition-transform hover:scale-105 ${selectedCharger ? 'opacity-50' : ''}`}\n          disabled={!!selectedCharger}\n        >\n          <div className=\"mb-2\">{cfg.icon}</div>\n          <div className=\"text-2xl font-bold mb-1\">{loading ? <span className=\"animate-pulse\">...</span> : counts[status]}</div>\n          <div className=\"text-base font-semibold\">{cfg.label}</div>\n        </button>\n      ))}\n    </div>\n  );\n}\n\nfunction ChargerStatusCard({ charger }) {\n  const [stats, setStats] = useState({ total_sessions: 0, total_minutes: 0 });\n  useEffect(() => {\n    if (!charger?.name) return;\n    fetch(`${process.env.REACT_APP_API_URL}/api/sessions/stats?charger_name=${encodeURIComponent(charger.name)}`)\n      .then(res => res.json())\n      .then(data => setStats({\n        total_sessions: data.total_sessions || 0,\n        total_minutes: data.total_minutes || 0\n      }))\n      .catch(() => setStats({ total_sessions: 0, total_minutes: 0 }));\n  }, [charger?.name]);\n  return (\n    <div className=\"flex flex-col items-center\">\n      <span className=\"text-2xl font-bold text-orange-600\">{stats.total_minutes}</span>\n      <span className=\"text-gray-600\">Minutos acumulados</span>\n      <span className=\"text-2xl font-bold text-orange-600 mt-2\">{stats.total_sessions}</span>\n      <span className=\"text-gray-600\">Sesiones totales</span>\n    </div>\n  );\n}\n\n// Elimina el renderizado de la lista larga de ChargerStatusCard en el home\n// Solo deja ChargerStatusCards (estado general en tiempo real)\n// Si necesitas mostrar los totales históricos por cargador, hazlo solo en la vista de detalle, no aquí\n\nexport default ChargerStatusCards;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEnD,SAASC,kBAAkBA,CAAC;EAAEC,QAAQ;EAAEC,OAAO;EAAEC,eAAe;EAAEC;AAAgB,CAAC,EAAE;EACnF;EACA,MAAMC,MAAM,GAAG;IAAEC,QAAQ,EAAE,CAAC;IAAEC,SAAS,EAAE,CAAC;IAAEC,WAAW,EAAE;EAAE,CAAC;EAC5DP,QAAQ,CAACQ,OAAO,CAACC,CAAC,IAAI;IACpB,CAACA,CAAC,CAACC,UAAU,IAAI,EAAE,EAAEF,OAAO,CAACG,IAAI,IAAI;MACnC,IAAIA,IAAI,CAACC,MAAM,KAAK,UAAU,EAAER,MAAM,CAACC,QAAQ,EAAE,CAAC,KAC7C,IAAIM,IAAI,CAACC,MAAM,KAAK,WAAW,EAAER,MAAM,CAACE,SAAS,EAAE,CAAC,KACpD,IAAIK,IAAI,CAACC,MAAM,KAAK,aAAa,EAAER,MAAM,CAACG,WAAW,EAAE;IAC9D,CAAC,CAAC;EACJ,CAAC,CAAC;EAEF,MAAMM,YAAY,GAAG;IACnBR,QAAQ,EAAE;MACRS,KAAK,EAAE,UAAU;MACjBC,IAAI,eAAEjB,OAAA;QAAMkB,SAAS,EAAC,UAAU;QAAAC,QAAA,EAAC;MAAE;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAAC;MAC1CC,KAAK,EAAE;IACT,CAAC;IACDhB,SAAS,EAAE;MACTQ,KAAK,EAAE,YAAY;MACnBC,IAAI,eAAEjB,OAAA;QAAMkB,SAAS,EAAC,UAAU;QAAAC,QAAA,EAAC;MAAC;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAAC;MACzCC,KAAK,EAAE;IACT,CAAC;IACDf,WAAW,EAAE;MACXO,KAAK,EAAE,mBAAmB;MAC1BC,IAAI,eAAEjB,OAAA;QAAMkB,SAAS,EAAC,UAAU;QAAAC,QAAA,EAAC;MAAE;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAAC;MAC1CC,KAAK,EAAE;IACT;EACF,CAAC;EAED,oBACExB,OAAA;IAAKkB,SAAS,EAAC,6BAA6B;IAAAC,QAAA,EACzCM,MAAM,CAACC,OAAO,CAACX,YAAY,CAAC,CAACY,GAAG,CAAC,CAAC,CAACb,MAAM,EAAEc,GAAG,CAAC,kBAC9C5B,OAAA;MAEEkB,SAAS,EAAE,iFAAiFU,GAAG,CAACJ,KAAK,2EAA2EnB,eAAe,GAAG,YAAY,GAAG,EAAE,EAAG;MACtNwB,QAAQ,EAAE,CAAC,CAACxB,eAAgB;MAAAc,QAAA,gBAE5BnB,OAAA;QAAKkB,SAAS,EAAC,MAAM;QAAAC,QAAA,EAAES,GAAG,CAACX;MAAI;QAAAG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAAC,eACtCvB,OAAA;QAAKkB,SAAS,EAAC,yBAAyB;QAAAC,QAAA,EAAEhB,OAAO,gBAAGH,OAAA;UAAMkB,SAAS,EAAC,eAAe;UAAAC,QAAA,EAAC;QAAG;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC,GAAGjB,MAAM,CAACQ,MAAM;MAAC;QAAAM,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAAC,eACtHvB,OAAA;QAAKkB,SAAS,EAAC,yBAAyB;QAAAC,QAAA,EAAES,GAAG,CAACZ;MAAK;QAAAI,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAAC;IAAA,GANrDT,MAAM;MAAAM,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAOL,CACT;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACC,CAAC;AAEV;AAACO,EAAA,GA5CQ7B,kBAAkB;AA8C3B,SAAS8B,iBAAiBA,CAAC;EAAEC;AAAQ,CAAC,EAAE;EAAAC,EAAA;EACtC,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGrC,QAAQ,CAAC;IAAEsC,cAAc,EAAE,CAAC;IAAEC,aAAa,EAAE;EAAE,CAAC,CAAC;EAC3ExC,SAAS,CAAC,MAAM;IACd,IAAI,EAACmC,OAAO,aAAPA,OAAO,eAAPA,OAAO,CAAEM,IAAI,GAAE;IACpBC,KAAK,CAAC,GAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,oCAAoCC,kBAAkB,CAACX,OAAO,CAACM,IAAI,CAAC,EAAE,CAAC,CAC1GM,IAAI,CAACC,GAAG,IAAIA,GAAG,CAACC,IAAI,CAAC,CAAC,CAAC,CACvBF,IAAI,CAACG,IAAI,IAAIZ,QAAQ,CAAC;MACrBC,cAAc,EAAEW,IAAI,CAACX,cAAc,IAAI,CAAC;MACxCC,aAAa,EAAEU,IAAI,CAACV,aAAa,IAAI;IACvC,CAAC,CAAC,CAAC,CACFW,KAAK,CAAC,MAAMb,QAAQ,CAAC;MAAEC,cAAc,EAAE,CAAC;MAAEC,aAAa,EAAE;IAAE,CAAC,CAAC,CAAC;EACnE,CAAC,EAAE,CAACL,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAEM,IAAI,CAAC,CAAC;EACnB,oBACEtC,OAAA;IAAKkB,SAAS,EAAC,4BAA4B;IAAAC,QAAA,gBACzCnB,OAAA;MAAMkB,SAAS,EAAC,oCAAoC;MAAAC,QAAA,EAAEe,KAAK,CAACG;IAAa;MAAAjB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAO,CAAC,eACjFvB,OAAA;MAAMkB,SAAS,EAAC,eAAe;MAAAC,QAAA,EAAC;IAAkB;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAM,CAAC,eACzDvB,OAAA;MAAMkB,SAAS,EAAC,yCAAyC;MAAAC,QAAA,EAAEe,KAAK,CAACE;IAAc;MAAAhB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAO,CAAC,eACvFvB,OAAA;MAAMkB,SAAS,EAAC,eAAe;MAAAC,QAAA,EAAC;IAAgB;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAM,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACpD,CAAC;AAEV;;AAEA;AACA;AACA;AAAAU,EAAA,CAxBSF,iBAAiB;AAAAkB,GAAA,GAAjBlB,iBAAiB;AA0B1B,eAAe9B,kBAAkB;AAAC,IAAA6B,EAAA,EAAAmB,GAAA;AAAAC,YAAA,CAAApB,EAAA;AAAAoB,YAAA,CAAAD,GAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}