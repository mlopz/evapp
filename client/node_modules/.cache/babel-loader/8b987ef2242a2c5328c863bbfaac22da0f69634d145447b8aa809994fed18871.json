{"ast":null,"code":"var _jsxFileName = \"/Users/mauriciolopez/Cargapp/client/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport './index.css';\nimport { BrowserRouter as Router, Route, Routes } from 'react-router-dom';\nimport ConnectorStatusCards from './ConnectorStatusCards';\nimport ChargerCardModal from './ChargerCardModal';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_URL = process.env.REACT_APP_API_URL;\n\n// --- INICIO: CACHÉ Y CONTROL DE PETICIONES PARA STATS DE CARGADORES ---\nconst chargerStatsCache = {};\nconst chargerStatsInFlight = {};\nfunction fetchChargerStatsWithCache(chargerName) {\n  if (chargerStatsCache[chargerName]) {\n    return Promise.resolve(chargerStatsCache[chargerName]);\n  }\n  if (chargerStatsInFlight[chargerName]) {\n    return chargerStatsInFlight[chargerName];\n  }\n  const promise = fetch(`${API_URL}/api/sessions/stats?charger_name=${encodeURIComponent(chargerName)}`).then(res => res.json()).then(data => {\n    chargerStatsCache[chargerName] = {\n      total_sessions: data.total_sessions || 0,\n      total_minutes: data.total_minutes || 0\n    };\n    delete chargerStatsInFlight[chargerName];\n    return chargerStatsCache[chargerName];\n  }).catch(() => {\n    delete chargerStatsInFlight[chargerName];\n    return {\n      total_sessions: 0,\n      total_minutes: 0\n    };\n  });\n  chargerStatsInFlight[chargerName] = promise;\n  return promise;\n}\n// --- FIN: CACHÉ Y CONTROL DE PETICIONES PARA STATS DE CARGADORES ---\n\nfunction ChargerCard({\n  charger,\n  minutes,\n  sessions,\n  onClick\n}) {\n  return /*#__PURE__*/_jsxDEV(\"button\", {\n    className: \"rounded-xl shadow-lg p-6 bg-white border-2 w-full flex flex-col items-center hover:scale-105 hover:border-orange-500 transition cursor-pointer mb-4\",\n    onClick: onClick,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-lg font-bold text-gray-800 mb-2\",\n      children: charger.name\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex gap-6 mb-1\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-xl font-bold text-orange-600\",\n          children: minutes\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-xs text-gray-500\",\n          children: \"Minutos\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-xl font-bold text-orange-600\",\n          children: sessions\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-xs text-gray-500\",\n          children: \"Sesiones\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 5\n  }, this);\n}\n_c = ChargerCard;\nfunction App() {\n  _s();\n  const [chargers, setChargers] = useState([]);\n  const [sessions, setSessions] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [filterStatus, setFilterStatus] = useState(null);\n  const [selectedCharger, setSelectedCharger] = useState(null);\n  const [selectedConnectorId, setSelectedConnectorId] = useState(null);\n  const [stats, setStats] = useState({\n    total_sessions: 0,\n    total_minutes: 0\n  });\n  const [selectedStatus, setSelectedStatus] = useState(null);\n  const [modalCharger, setModalCharger] = useState(null);\n  const fetchChargers = async () => {\n    setLoading(true);\n    try {\n      const res = await fetch(`${API_URL}/api/chargers`);\n      const data = await res.json();\n      setChargers(data.chargers || []);\n      setError(null);\n    } catch (err) {\n      setError('Error al obtener los cargadores');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Nuevo: fetch de todas las sesiones para el home\n  const fetchAllSessions = async () => {\n    try {\n      const res = await fetch(`${API_URL}/api/sessions`);\n      if (!res.ok) throw new Error('Respuesta no OK');\n      const contentType = res.headers.get('content-type');\n      if (!contentType || !contentType.includes('application/json')) {\n        throw new Error('Respuesta no es JSON');\n      }\n      const data = await res.json();\n      setSessions(Array.isArray(data) ? data : data.sessions || []);\n    } catch (err) {\n      // No interrumpe el loading general\n      console.error('Error al obtener todas las sesiones', err);\n    }\n  };\n  useEffect(() => {\n    let interval;\n    fetchChargers();\n    fetchAllSessions();\n    const fetchStats = async () => {\n      try {\n        const res = await fetch(`${API_URL}/api/sessions/stats`);\n        const data = await res.json();\n        setStats({\n          total_sessions: data.total_sessions || 0,\n          total_minutes: data.total_minutes || 0\n        });\n      } catch (err) {\n        setStats({\n          total_sessions: 0,\n          total_minutes: 0\n        });\n      }\n    };\n    fetchStats();\n    interval = setInterval(() => {\n      fetchChargers();\n      fetchAllSessions();\n    }, 30000);\n    return () => clearInterval(interval);\n  }, []);\n\n  // Obtener sesiones filtradas por chargerName y connectorId\n  const fetchSessions = async (chargerName, connectorId) => {\n    setLoading(true);\n    try {\n      let url = `${API_URL}/api/sessions`;\n      const params = [];\n      if (chargerName) params.push(`chargerName=${encodeURIComponent(chargerName)}`);\n      if (connectorId) params.push(`connectorId=${encodeURIComponent(connectorId)}`);\n      if (params.length > 0) url += `?${params.join('&')}`;\n      const res = await fetch(url);\n      const data = await res.json();\n      setSessions(data.sessions || []);\n      setError(null);\n    } catch (err) {\n      setError('Error al obtener las sesiones');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Cuando se selecciona un conector, obtener el historial real filtrado\n  useEffect(() => {\n    if (selectedConnectorId && selectedCharger) {\n      fetchSessions(selectedCharger.name, selectedConnectorId);\n    }\n  }, [selectedConnectorId, selectedCharger]);\n  useEffect(() => {\n    if (sessions.length > 0) {\n      console.log('Ejemplo de sesión:', sessions[0]);\n    }\n  }, [sessions]);\n\n  // Filtrar cargadores según el estado seleccionado\n  const filteredChargers = selectedStatus ? chargers.filter(c => (c.connectors || []).some(conn => conn.status === selectedStatus)) : [];\n\n  // Estado para stats por cargador\n  const [chargerStats, setChargerStats] = useState({});\n  useEffect(() => {\n    if (!filteredChargers.length) return;\n    // Solo buscar stats para los cargadores que no están en el estado\n    const missing = filteredChargers.filter(charger => !chargerStats[charger.name]);\n    if (!missing.length) return;\n    missing.forEach(charger => {\n      fetchChargerStatsWithCache(charger.name).then(data => {\n        setChargerStats(prev => ({\n          ...prev,\n          [charger.name]: data\n        }));\n      });\n    });\n    // No hay dependencias circulares porque solo se hace fetch si falta el dato\n  }, [filteredChargers, chargerStats]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-50 p-6\",\n    children: [/*#__PURE__*/_jsxDEV(ConnectorStatusCards, {\n      chargers: chargers,\n      onSelectStatus: setSelectedStatus,\n      selectedStatus: selectedStatus\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 7\n    }, this), selectedStatus && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-8 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6\",\n      children: filteredChargers.map(charger => {\n        var _chargerStats$charger, _chargerStats$charger2;\n        return /*#__PURE__*/_jsxDEV(ChargerCard, {\n          charger: charger,\n          minutes: ((_chargerStats$charger = chargerStats[charger.name]) === null || _chargerStats$charger === void 0 ? void 0 : _chargerStats$charger.total_minutes) || 0,\n          sessions: ((_chargerStats$charger2 = chargerStats[charger.name]) === null || _chargerStats$charger2 === void 0 ? void 0 : _chargerStats$charger2.total_sessions) || 0,\n          onClick: () => setModalCharger(charger)\n        }, charger.name, false, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 13\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(ChargerCardModal, {\n      charger: modalCharger,\n      onClose: () => setModalCharger(null)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 181,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"6w+nOtZg47bGdRnje/KRl3Qqd2s=\");\n_c2 = App;\nexport default App;\nvar _c, _c2;\n$RefreshReg$(_c, \"ChargerCard\");\n$RefreshReg$(_c2, \"App\");","map":{"version":3,"names":["React","useEffect","useState","BrowserRouter","Router","Route","Routes","ConnectorStatusCards","ChargerCardModal","jsxDEV","_jsxDEV","API_URL","process","env","REACT_APP_API_URL","chargerStatsCache","chargerStatsInFlight","fetchChargerStatsWithCache","chargerName","Promise","resolve","promise","fetch","encodeURIComponent","then","res","json","data","total_sessions","total_minutes","catch","ChargerCard","charger","minutes","sessions","onClick","className","children","name","fileName","_jsxFileName","lineNumber","columnNumber","_c","App","_s","chargers","setChargers","setSessions","loading","setLoading","error","setError","filterStatus","setFilterStatus","selectedCharger","setSelectedCharger","selectedConnectorId","setSelectedConnectorId","stats","setStats","selectedStatus","setSelectedStatus","modalCharger","setModalCharger","fetchChargers","err","fetchAllSessions","ok","Error","contentType","headers","get","includes","Array","isArray","console","interval","fetchStats","setInterval","clearInterval","fetchSessions","connectorId","url","params","push","length","join","log","filteredChargers","filter","c","connectors","some","conn","status","chargerStats","setChargerStats","missing","forEach","prev","onSelectStatus","map","_chargerStats$charger","_chargerStats$charger2","onClose","_c2","$RefreshReg$"],"sources":["/Users/mauriciolopez/Cargapp/client/src/App.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport './index.css';\nimport { BrowserRouter as Router, Route, Routes } from 'react-router-dom';\nimport ConnectorStatusCards from './ConnectorStatusCards';\nimport ChargerCardModal from './ChargerCardModal';\n\nconst API_URL = process.env.REACT_APP_API_URL;\n\n// --- INICIO: CACHÉ Y CONTROL DE PETICIONES PARA STATS DE CARGADORES ---\nconst chargerStatsCache = {};\nconst chargerStatsInFlight = {};\nfunction fetchChargerStatsWithCache(chargerName) {\n  if (chargerStatsCache[chargerName]) {\n    return Promise.resolve(chargerStatsCache[chargerName]);\n  }\n  if (chargerStatsInFlight[chargerName]) {\n    return chargerStatsInFlight[chargerName];\n  }\n  const promise = fetch(`${API_URL}/api/sessions/stats?charger_name=${encodeURIComponent(chargerName)}`)\n    .then(res => res.json())\n    .then(data => {\n      chargerStatsCache[chargerName] = {\n        total_sessions: data.total_sessions || 0,\n        total_minutes: data.total_minutes || 0\n      };\n      delete chargerStatsInFlight[chargerName];\n      return chargerStatsCache[chargerName];\n    })\n    .catch(() => {\n      delete chargerStatsInFlight[chargerName];\n      return { total_sessions: 0, total_minutes: 0 };\n    });\n  chargerStatsInFlight[chargerName] = promise;\n  return promise;\n}\n// --- FIN: CACHÉ Y CONTROL DE PETICIONES PARA STATS DE CARGADORES ---\n\nfunction ChargerCard({ charger, minutes, sessions, onClick }) {\n  return (\n    <button\n      className=\"rounded-xl shadow-lg p-6 bg-white border-2 w-full flex flex-col items-center hover:scale-105 hover:border-orange-500 transition cursor-pointer mb-4\"\n      onClick={onClick}\n    >\n      <div className=\"text-lg font-bold text-gray-800 mb-2\">{charger.name}</div>\n      <div className=\"flex gap-6 mb-1\">\n        <div className=\"flex flex-col items-center\">\n          <span className=\"text-xl font-bold text-orange-600\">{minutes}</span>\n          <span className=\"text-xs text-gray-500\">Minutos</span>\n        </div>\n        <div className=\"flex flex-col items-center\">\n          <span className=\"text-xl font-bold text-orange-600\">{sessions}</span>\n          <span className=\"text-xs text-gray-500\">Sesiones</span>\n        </div>\n      </div>\n    </button>\n  );\n}\n\nfunction App() {\n  const [chargers, setChargers] = useState([]);\n  const [sessions, setSessions] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [filterStatus, setFilterStatus] = useState(null);\n  const [selectedCharger, setSelectedCharger] = useState(null);\n  const [selectedConnectorId, setSelectedConnectorId] = useState(null);\n  const [stats, setStats] = useState({ total_sessions: 0, total_minutes: 0 });\n  const [selectedStatus, setSelectedStatus] = useState(null);\n  const [modalCharger, setModalCharger] = useState(null);\n\n  const fetchChargers = async () => {\n    setLoading(true);\n    try {\n      const res = await fetch(`${API_URL}/api/chargers`);\n      const data = await res.json();\n      setChargers(data.chargers || []);\n      setError(null);\n    } catch (err) {\n      setError('Error al obtener los cargadores');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Nuevo: fetch de todas las sesiones para el home\n  const fetchAllSessions = async () => {\n    try {\n      const res = await fetch(`${API_URL}/api/sessions`);\n      if (!res.ok) throw new Error('Respuesta no OK');\n      const contentType = res.headers.get('content-type');\n      if (!contentType || !contentType.includes('application/json')) {\n        throw new Error('Respuesta no es JSON');\n      }\n      const data = await res.json();\n      setSessions(Array.isArray(data) ? data : (data.sessions || []));\n    } catch (err) {\n      // No interrumpe el loading general\n      console.error('Error al obtener todas las sesiones', err);\n    }\n  };\n\n  useEffect(() => {\n    let interval;\n    fetchChargers();\n    fetchAllSessions();\n    const fetchStats = async () => {\n      try {\n        const res = await fetch(`${API_URL}/api/sessions/stats`);\n        const data = await res.json();\n        setStats({\n          total_sessions: data.total_sessions || 0,\n          total_minutes: data.total_minutes || 0\n        });\n      } catch (err) {\n        setStats({ total_sessions: 0, total_minutes: 0 });\n      }\n    };\n    fetchStats();\n    interval = setInterval(() => {\n      fetchChargers();\n      fetchAllSessions();\n    }, 30000);\n    return () => clearInterval(interval);\n  }, []);\n\n  // Obtener sesiones filtradas por chargerName y connectorId\n  const fetchSessions = async (chargerName, connectorId) => {\n    setLoading(true);\n    try {\n      let url = `${API_URL}/api/sessions`;\n      const params = [];\n      if (chargerName) params.push(`chargerName=${encodeURIComponent(chargerName)}`);\n      if (connectorId) params.push(`connectorId=${encodeURIComponent(connectorId)}`);\n      if (params.length > 0) url += `?${params.join('&')}`;\n      const res = await fetch(url);\n      const data = await res.json();\n      setSessions(data.sessions || []);\n      setError(null);\n    } catch (err) {\n      setError('Error al obtener las sesiones');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Cuando se selecciona un conector, obtener el historial real filtrado\n  useEffect(() => {\n    if (selectedConnectorId && selectedCharger) {\n      fetchSessions(selectedCharger.name, selectedConnectorId);\n    }\n  }, [selectedConnectorId, selectedCharger]);\n\n  useEffect(() => {\n    if (sessions.length > 0) {\n      console.log('Ejemplo de sesión:', sessions[0]);\n    }\n  }, [sessions]);\n\n  // Filtrar cargadores según el estado seleccionado\n  const filteredChargers = selectedStatus\n    ? chargers.filter(c => (c.connectors || []).some(conn => conn.status === selectedStatus))\n    : [];\n\n  // Estado para stats por cargador\n  const [chargerStats, setChargerStats] = useState({});\n  useEffect(() => {\n    if (!filteredChargers.length) return;\n    // Solo buscar stats para los cargadores que no están en el estado\n    const missing = filteredChargers.filter(charger => !chargerStats[charger.name]);\n    if (!missing.length) return;\n    missing.forEach(charger => {\n      fetchChargerStatsWithCache(charger.name)\n        .then(data => {\n          setChargerStats(prev => ({ ...prev, [charger.name]: data }));\n        });\n    });\n    // No hay dependencias circulares porque solo se hace fetch si falta el dato\n  }, [filteredChargers, chargerStats]);\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 p-6\">\n      <ConnectorStatusCards chargers={chargers} onSelectStatus={setSelectedStatus} selectedStatus={selectedStatus} />\n      {selectedStatus && (\n        <div className=\"mt-8 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6\">\n          {filteredChargers.map(charger => (\n            <ChargerCard\n              key={charger.name}\n              charger={charger}\n              minutes={chargerStats[charger.name]?.total_minutes || 0}\n              sessions={chargerStats[charger.name]?.total_sessions || 0}\n              onClick={() => setModalCharger(charger)}\n            />\n          ))}\n        </div>\n      )}\n      <ChargerCardModal charger={modalCharger} onClose={() => setModalCharger(null)} />\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}